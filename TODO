todo for shell unit test

----
restructure some code

setup code:

    test shutdir exists?
      test not overwrite existing shutdir?
        error exit shutdir exists
      endif
    endif

main code:

    create tempdir
    find tests save to file in tempdir
    test is file not empty?
      test is do action?
        delete existing shutdir and ignore error if not exists
        copy/move tempdir to shutdir
        configure shutdir as dir
        configure action as action
      else
        configure tempdir as dir
        configure no action as action
      endif
      cd to dir (either shutdir or tempdir)
      execute action (either action or no action)
    else
      error exit no tests found
    end if
    return exit status from execute or from error exit

action code:

    loop over names
      execute one by one
      store whether pass or fail
    endloop
    print names of fail
    count test pass fail
    print summary line
    return exit status whether some fail

no action code:

    print names
    count names
    print summary line
    return exit status always success

----
create logfile of entire stdout of shut

----
print stdout and stderr of test separately

----
pattern argument
if pattern is dir recurse in to dir
if pattern is file run file
if pattern is neither then search for files matching pattern

----
read testnames from stdin

----
create shutdir only when tests are actually run
first find tests
if no action then just print names and exit
if no tests found then complain and exit
else try to create shutdir and run tests
if shutdir exists then complain or overwrite

----
skip shutdir when looking for tests
